'use strict'; var _createClass = function () { function a(b, c) { for (var e, d = 0; d < c.length; d++)e = c[d], e.enumerable = e.enumerable || !1, e.configurable = !0, 'value' in e && (e.writable = !0), Object.defineProperty(b, e.key, e) } return function (b, c, d) { return c && a(b.prototype, c), d && a(b, d), b } }(), _react = require('react'), _react2 = _interopRequireDefault(_react), _propTypes = require('prop-types'), _propTypes2 = _interopRequireDefault(_propTypes); Object.defineProperty(exports, '__esModule', { value: !0 }); function _interopRequireDefault(a) { return a && a.__esModule ? a : { default: a } } function _classCallCheck(a, b) { if (!(a instanceof b)) throw new TypeError('Cannot call a class as a function') } function _possibleConstructorReturn(a, b) { if (!a) throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called'); return b && ('object' == typeof b || 'function' == typeof b) ? b : a } function _inherits(a, b) { if ('function' != typeof b && null !== b) throw new TypeError('Super expression must either be null or a function, not ' + typeof b); a.prototype = Object.create(b && b.prototype, { constructor: { value: a, enumerable: !1, writable: !0, configurable: !0 } }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b) } var propTypes = { intervalUnit: _propTypes2.default.number.isRequired, children: _propTypes2.default.element.isRequired, timeoutDelay: _propTypes2.default.number, minHeight: _propTypes2.default.number, maxHeight: _propTypes2.default.number, uniqueId: _propTypes2.default.string, className: _propTypes2.default.string, instantOnReceiveProps: _propTypes2.default.bool, screenWidthCutoff: _propTypes2.default.number }, defaultProps = { timeoutDelay: 0, minHeight: null, maxHeight: null, uniqueId: 'noUID', className: null, instantOnReceiveProps: !0, screenWidthCutoff: 0 }, IntervalResizer = function (a) { function b() { _classCallCheck(this, b); var c = _possibleConstructorReturn(this, (b.__proto__ || Object.getPrototypeOf(b)).call(this)); return c.waitToRender = null, c.windowResizeListener = c.windowResizeListener.bind(c), c } return _inherits(b, a), _createClass(b, [{ key: 'componentDidMount', value: function componentDidMount() { this.resizeTimeout(!0), window.addEventListener('resize', this.windowResizeListener) } }, { key: 'componentWillReceiveProps', value: function componentWillReceiveProps() { this.resizeTimeout(this.props.instantOnReceiveProps) } }, { key: 'componentWillUnmount', value: function componentWillUnmount() { window.removeEventListener('resize', this.windowResizeListener) } }, { key: 'windowResizeListener', value: function windowResizeListener() { this.resizeTimeout(!1) } }, { key: 'resizeTimeout', value: function resizeTimeout(c) { var d = this; clearTimeout(this.waitToRender), this.waitToRender = setTimeout(function () { d.setWrapperHeight() }, c ? 0 : this.props.timeoutDelay) } }, { key: 'setWrapperHeight', value: function setWrapperHeight() { var _props = this.props, c = _props.uniqueId, d = _props.screenWidthCutoff, e = document.getElementById('intervalResize_' + c), f = e.firstChild; if (document.documentElement.clientWidth > d) { f.style.height = 'auto'; var g = f.offsetHeight, h = this.getIntervalHeight(g); e.style.height = h + 'px', f.style.height = '100%' } else e.style.height = 'auto', f.style.height = 'auto' } }, { key: 'getIntervalHeight', value: function getIntervalHeight(c) { var _props2 = this.props, d = _props2.intervalUnit, e = _props2.minHeight, f = _props2.maxHeight, g = Math.ceil(c / d) * d; return null !== e && (g = Math.max(g, Math.ceil(e / d) * d)), null !== f && (g = Math.min(g, Math.floor(f / d) * d)), g } }, { key: 'render', value: function render() { return _react2.default.createElement('div', { id: 'intervalResize_' + this.props.uniqueId, className: this.props.className }, this.props.children) } }]), b }(_react.Component); IntervalResizer.propTypes = propTypes, IntervalResizer.defaultProps = defaultProps, exports.default = IntervalResizer;